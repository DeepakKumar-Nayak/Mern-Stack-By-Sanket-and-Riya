<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="container">
        <h1>Todo Application</h1>
        <input type="text" id="todo-input" placeholder="Write your next todo here">
        <button id = "addTodo">Add Todo</button>

        <ul id = "taskList">
        </ul>
    </div>

    <script>

       function getTodoFromLocalStorage(){
            const todo = JSON.parse(localStorage.getItem('todo')) || []
            return todo; 
        }

        function addTodoToLocalStorage(todoText){
            const todo = getTodoFromLocalStorage()
            todo.push(todoText)
            localStorage.setItem('todo',JSON.stringify(todo))
        }

        function addTodo(todoText){
            const taskList = document.getElementById('taskList')
            const createLi = document.createElement("li")
            createLi.textContent = todoText
            taskList.appendChild(createLi)
        }

       document.addEventListener('DOMContentLoaded', ()=>{
           const todoInput = document.getElementById('todo-input')
           const taskList = document.getElementById('taskList')

           todoInput.addEventListener('change', (event)=>{
                const todoText = event.target.value;
                event.target.value = todoText.trim()
                console.log(event.target.value)
           })

           const submitButton = document.getElementById("addTodo")
           submitButton.addEventListener('click', ()=>{
                const todoText = todoInput.value
                if(todoText === ""){
                    alert('please enter some todo')
                }else{
                    addTodoToLocalStorage(todoText)
                    addTodo(todoText)
                }
           })

        const todo = getTodoFromLocalStorage()
        todo.forEach((data)=>{
            
            const createLi = document.createElement("li")
            createLi.textContent = data
            taskList.appendChild(createLi)
        })
           
           
        })
    </script>
    
</body>
</html>